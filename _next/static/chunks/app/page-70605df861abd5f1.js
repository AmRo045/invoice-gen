(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6959:function(e,t,s){Promise.resolve().then(s.bind(s,8505))},8505:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var n=s(7437),r=s(6758),i=s(2265),l=s(9343);function a(e){let{onAdd:t}=e,s=(0,i.useRef)(null),[r,a]=(0,i.useState)(!1),c=(0,l.cI)();return(0,i.useEffect)(()=>{let e=e=>{if(s.current&&e.target===s.current){var t;null===(t=s.current)||void 0===t||t.close(),c.reset(),a(!1)}},t=s.current;return t&&t.addEventListener("click",e),()=>{t&&t.removeEventListener("click",e)}},[c]),(0,i.useEffect)(()=>{r||c.reset()},[c,r]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>{var e;null===(e=s.current)||void 0===e||e.showModal(),a(!0)},className:"bg-black text-white rounded-lg font-bold py-2 px-4 hover:bg-gray-700 min-w-fit",children:"+ Add"}),(0,n.jsx)("dialog",{ref:s,className:"rounded-lg",children:r&&(0,n.jsxs)("form",{className:"p-3",onSubmit:c.handleSubmit(e=>{var n;t&&t(e),c.reset(),null===(n=s.current)||void 0===n||n.close(),a(!1)}),children:[(0,n.jsx)("h1",{children:"Add record"}),(0,n.jsx)("hr",{className:"mb-3 mt-2"}),(0,n.jsxs)("div",{className:"my-2 flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Anzahl"}),(0,n.jsx)("input",{type:"text",className:"border-2 rounded-lg ms-2 p-1",...c.register("hours",{required:!1,setValueAs:e=>parseFloat(e)})})]}),(0,n.jsxs)("div",{className:"my-2 flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Einheit"}),(0,n.jsx)("input",{type:"text",className:"border-2 rounded-lg ms-2 p-1",...c.register("unit",{required:!1})})]}),(0,n.jsxs)("div",{className:"my-2 flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Bezeichnung"}),(0,n.jsx)("input",{type:"text",className:"border-2 rounded-lg ms-2 p-1",...c.register("description",{required:!1})})]}),(0,n.jsxs)("div",{className:"my-2 flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Einzelpreis"}),(0,n.jsx)("input",{type:"text",className:"border-2 rounded-lg ms-2 p-1",...c.register("unitPrice",{required:!1,setValueAs:e=>parseFloat(e)})})]}),(0,n.jsx)("hr",{className:"my-3"}),(0,n.jsx)("button",{className:"w-full bg-black text-white p-2 rounded-lg font-bold py-2 px-4 hover:bg-gray-700",children:"Add"})]})})]})}function c(e){return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M10 14v-2.615l8.944-8.944q.166-.166.348-.23t.385-.063q.189 0 .368.064t.326.21L21.483 3.5q.16.166.242.365t.083.4t-.061.382q-.06.18-.226.345L12.52 14zm9.466-8.354l1.347-1.361l-1.111-1.17l-1.387 1.381zM5.615 20q-.691 0-1.153-.462T4 18.384V5.616q0-.691.463-1.153T5.616 4h8.386l-6.386 6.387v5.998h5.896L20 9.895v8.489q0 .69-.462 1.153T18.384 20z"})})}function d(e){let{index:t,data:s,onSubmit:r}=e,a=(0,i.useRef)(null),[d,x]=(0,i.useState)(!1),o=(0,l.cI)({defaultValues:s});return(0,i.useEffect)(()=>{let e=e=>{if(a.current&&e.target===a.current){var t;null===(t=a.current)||void 0===t||t.close(),o.reset(),x(!1)}},t=a.current;return t&&t.addEventListener("click",e),()=>{t&&t.removeEventListener("click",e)}},[o]),(0,i.useEffect)(()=>{d||o.reset(),o.reset(s)},[o,d,s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>{var e;null===(e=a.current)||void 0===e||e.showModal(),x(!0)},className:"bg-gray-300 text-gray-600 rounded-lg font-bold p-1 mt-1 hover:bg-gray-400 min-w-fit",children:(0,n.jsx)(c,{})}),(0,n.jsx)("dialog",{ref:a,className:"rounded-lg",children:d&&(0,n.jsxs)("form",{className:"p-3",onSubmit:o.handleSubmit(e=>{var s;r&&r(t,e),o.reset(),null===(s=a.current)||void 0===s||s.close(),x(!1)}),children:[(0,n.jsx)("h1",{children:"Edit record"}),(0,n.jsx)("hr",{className:"mb-3 mt-2"}),(0,n.jsxs)("div",{className:"my-2 flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Anzahl"}),(0,n.jsx)("input",{type:"text",className:"border-2 rounded-lg ms-2 p-1",...o.register("hours",{required:!1,setValueAs:e=>parseFloat(e)})})]}),(0,n.jsxs)("div",{className:"my-2 flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Einheit"}),(0,n.jsx)("input",{type:"text",className:"border-2 rounded-lg ms-2 p-1",...o.register("unit",{required:!1})})]}),(0,n.jsxs)("div",{className:"my-2 flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Bezeichnung"}),(0,n.jsx)("input",{type:"text",className:"border-2 rounded-lg ms-2 p-1",...o.register("description",{required:!1})})]}),(0,n.jsxs)("div",{className:"my-2 flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Einzelpreis"}),(0,n.jsx)("input",{type:"text",className:"border-2 rounded-lg ms-2 p-1",...o.register("unitPrice",{required:!1,setValueAs:e=>parseFloat(e)})})]}),(0,n.jsx)("hr",{className:"my-3"}),(0,n.jsx)("button",{className:"w-full bg-black text-white p-2 rounded-lg font-bold py-2 px-4 hover:bg-gray-700",children:"Save"})]})})]})}let x=e=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(e),o=e=>x(e).replace("â‚¬","EUR"),h=e=>new Intl.DateTimeFormat("de-DE").format(e);function u(e){return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})})}function m(e){let{index:t,item:s,hasHours:r,onDelete:i,onEdit:l}=e;return(0,n.jsxs)("tr",{className:"text-start",children:[(0,n.jsx)("td",{className:"text-center px-1 print:hidden relative py-4",children:(0,n.jsxs)("div",{className:"flex gap-1 items-center absolute left-[-3.8rem] top-0",children:[(0,n.jsx)("button",{onClick:()=>i(t),className:"bg-gray-300 text-gray-600 rounded-lg font-bold p-1 mt-1 hover:bg-gray-400 min-w-fit",children:(0,n.jsx)(u,{})}),(0,n.jsx)(d,{index:t,data:s,onSubmit:l})]})}),(0,n.jsx)("td",{className:"text-center px-1",children:t+1}),(0,n.jsx)("td",{className:"text-center px-1 ".concat(r?"":"line-through print:hidden"),children:s.hours}),(0,n.jsx)("td",{className:"text-center min-w-[70px]",children:s.unit}),(0,n.jsx)("td",{className:"text-[#0070c0] text-start min-w-[60px]",children:s.description}),(0,n.jsx)("td",{className:"text-[#0070c0] text-end",children:x(s.unitPrice)}),(0,n.jsx)("td",{className:"text-[#0070c0] text-end pe-2",children:x(r?s.unitPrice*s.hours:s.unitPrice)})]})}function j(){let e=(0,i.useRef)(null),[t,s]=(0,i.useState)({invoiceDate:new Date(2021,11,17),invoiceNo:240005,total:2975,hasTax:!0,taxAmount:475,hasHours:!0}),[l,c]=(0,i.useState)([{hours:50,unit:"Std.",description:"Installation services",unitPrice:50}]),d=(e,t)=>{e.total=t.reduce((t,s)=>t+(e.hasHours?s.unitPrice*s.hours:s.unitPrice),0),e.hasTax?e.taxAmount=.19*e.total:e.taxAmount=0},u=(e,n)=>{let r=[...l];r[e]=n,d(t,r),s({...t}),c(r)},j=e=>{if(confirm("Are you sure?")){let n=[...l];n.splice(e,1),d(t,n),s({...t}),c(n)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("title",{children:t.invoiceNo}),(0,n.jsxs)("main",{className:"bg-white text-black grid font-primary font-normal",children:[(0,n.jsx)("div",{className:"sticky top-0 mb-5 flex justify-center w-full bg-gray-200 p-4 print:hidden",children:(0,n.jsxs)("div",{className:"flex gap-5 justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"flex gap-1 items-center",children:[(0,n.jsx)("input",{type:"checkbox",onChange:e=>{let n=e.target;t.hasHours=n.checked,d(t,l),s({...t})},defaultChecked:t.hasHours}),"Hours"]}),(0,n.jsxs)("label",{className:"flex gap-1 items-center",children:[(0,n.jsx)("input",{type:"checkbox",onChange:e=>{let n=e.target;t.hasTax=n.checked,d(t,l),s({...t})},defaultChecked:t.hasTax}),"Tax"]})]}),(0,n.jsx)(a,{onAdd:e=>{let n=[...l,{hours:e.hours,unit:e.unit,description:e.description,unitPrice:e.unitPrice}];d(t,n),s({...t}),c(n)}}),(0,n.jsx)(r.ReactToPrint,{trigger:()=>(0,n.jsx)("button",{className:"w-full bg-blue-500 text-white p-2 rounded-lg font-bold py-2 px-4 hover:bg-blue-700",children:"Print"}),content:()=>e.current})]})}),(0,n.jsx)("section",{className:"w-a4 h-a4 mx-auto pt-[20px]",id:"container",ref:e,children:(0,n.jsxs)("div",{className:"w-[640px] m-auto",children:[(0,n.jsx)("div",{className:"flex justify-end text-sm",children:(0,n.jsxs)("div",{className:"text-end",children:[(0,n.jsxs)("div",{children:["Datum : ",(0,n.jsx)("span",{contentEditable:!0,suppressContentEditableWarning:!0,children:h(t.invoiceDate)})]}),(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("span",{children:"Rechnungs-Nr.:"}),(0,n.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,onInput:e=>{let n=e.target;s({...t,invoiceNo:parseInt(n.innerText)})},dangerouslySetInnerHTML:{__html:t.invoiceNo}})]})]})}),(0,n.jsxs)("div",{className:"mt-[6.6rem]",contentEditable:!0,suppressContentEditableWarning:!0,children:[(0,n.jsx)("div",{children:"Firma Berg GMBH"}),(0,n.jsx)("div",{children:"HEIZUNG-KLIMA"}),(0,n.jsx)("div",{children:"SANIT\xc4R KLEMPNER"}),(0,n.jsx)("div",{children:"Ostfeld 15"}),(0,n.jsx)("div",{children:"21635 Jork"})]}),(0,n.jsx)("div",{className:"my-5",children:(0,n.jsx)("strong",{className:"font-semibold text-xl",children:"Rechnung"})}),(0,n.jsxs)("div",{className:"mb-4",contentEditable:!0,suppressContentEditableWarning:!0,children:[(0,n.jsx)("div",{children:"Sehr geehrte Damen und Herren,"}),(0,n.jsx)("div",{children:"ich danke Ihnen f\xfcr die Beauftragung. Wie vereinbart"}),(0,n.jsx)("div",{children:"erhalten Sie die Rechnung f\xfcr meine Leistung von 07.03.2024 bis 15.03.2024."})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("table",{className:"w-full",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"bg-[#e7e6e6] text-left px-2",children:[(0,n.jsx)("th",{className:"text-center px-1 font-normal print:hidden"}),(0,n.jsx)("th",{className:"text-center px-1 font-normal",children:"Pos."}),(0,n.jsx)("th",{className:"text-center font-normal ".concat(t.hasHours?"":"print:hidden"),children:(0,n.jsx)("span",{className:t.hasHours?"":"line-through",children:"Anzahl"})}),(0,n.jsx)("th",{className:"text-center font-normal",children:"Einheit"}),(0,n.jsx)("th",{className:"w-max text-start font-normal",children:"Bezeichnung"}),(0,n.jsx)("th",{className:"w-max text-end font-normal",children:"Einzelpreis"}),(0,n.jsx)("th",{className:"w-max text-end font-normal pe-2",children:"Gesamtpreis"})]})}),(0,n.jsx)("tbody",{children:l.map((e,s)=>(0,n.jsx)(m,{item:e,hasHours:t.hasHours,index:s,onDelete:j,onEdit:u},s))})]}),(0,n.jsx)("div",{className:"grid gap-3 mb-5 mt-[2rem]",children:l.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex justify-between px-2",children:[(0,n.jsx)("span",{children:"Summe"}),(0,n.jsx)("span",{className:"text-[#0070c0]",children:x(t.total)})]}),t.hasTax&&(0,n.jsxs)("div",{className:"flex justify-between px-2 ".concat(t.hasTax?"":"print:hidden"),children:[(0,n.jsx)("span",{children:"Mehrwertsteuer 19% auf den Nettobedivag"}),(0,n.jsx)("span",{className:"text-[#0070c0]",children:x(t.taxAmount)})]}),(0,n.jsxs)("div",{className:"bg-[#e7e6e6] flex justify-between px-2",children:[(0,n.jsx)("span",{className:"",children:"Gesamtbedivag"}),(0,n.jsx)("span",{className:"text-[#0070c0] font-bold",children:x(t.total+t.taxAmount)})]})]})})]}),(0,n.jsxs)("div",{className:"px-1",children:[(0,n.jsxs)("div",{className:"grid gap-3",children:[!t.hasTax&&(0,n.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,children:"Der Leistungsempf\xe4nger schuldet die Umsatzsteuer nach \xa7 13b UStG."}),(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,children:"Der Rechnungsbetrag"}),(0,n.jsxs)("div",{children:["(",o(t.total+t.taxAmount),")"]}),(0,n.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,children:"ist f\xe4llig bis zum"}),(0,n.jsxs)("div",{contentEditable:!0,suppressContentEditableWarning:!0,children:[h(t.invoiceDate),"."]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:"Mit freundlichen Gr\xfc\xdfen."}),(0,n.jsx)("div",{children:"Alireza Divdar"})]})]}),(0,n.jsxs)("div",{className:"flex justify-between mt-[30px] text-sm",contentEditable:!0,suppressContentEditableWarning:!0,children:[(0,n.jsx)("div",{children:"Bankverbindung:"}),(0,n.jsx)("div",{children:"Steuernummer: 43/109/02528"})]}),(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,children:"Sparkasse Stade-Altes Land"}),(0,n.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,children:"BAN: DE69 2415 1005 1210 4192 20"}),(0,n.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,children:"BIC: NOLADE21STS"})]})]})]})})]})]})}}},function(e){e.O(0,[800,971,23,744],function(){return e(e.s=6959)}),_N_E=e.O()}]);